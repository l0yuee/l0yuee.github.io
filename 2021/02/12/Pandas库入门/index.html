<!DOCTYPE html>


<html lang="zh-CN">


<head>
  <meta charset="utf-8" />
   
  <meta name="keywords" content="博客，代码，安全，日常" />
   
  <meta name="description" content="记录学习与生活" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
  <title>
    Pandas库入门 |  lzeroyuee&#39;s blog
  </title>
  <meta name="generator" content="hexo-theme-ayer">
  
  <link rel="shortcut icon" href="/images/my.png" />
  
  
<link rel="stylesheet" href="/dist/main.css">

  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Shen-Yu/cdn/css/remixicon.min.css">
  
<link rel="stylesheet" href="/css/custom.css">

  
  <script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script>
  
  

  

<link rel="alternate" href="/atom.xml" title="lzeroyuee's blog" type="application/atom+xml">
</head>

</html>

<body>
  <div id="app">
    
      
      <canvas width="1777" height="841"
        style="position: fixed; left: 0px; top: 0px; z-index: 99999; pointer-events: none;"></canvas>
      
    <main class="content on">
      <section class="outer">
  <article
  id="post-Pandas库入门"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h1 class="article-title sea-center" style="border-left:0" itemprop="name">
  Pandas库入门
</h1>
 

    </header>
     
    <div class="article-meta">
      <a href="/2021/02/12/Pandas%E5%BA%93%E5%85%A5%E9%97%A8/" class="article-date">
  <time datetime="2021-02-12T11:41:07.000Z" itemprop="datePublished">2021-02-12</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/Python/">Python</a>
  </div>
  
<div class="word_count">
    <span class="post-time">
        <span class="post-meta-item-icon">
            <i class="ri-quill-pen-line"></i>
            <span class="post-meta-item-text"> 字数统计:</span>
            <span class="post-count">2.8k</span>
        </span>
    </span>

    <span class="post-time">
        &nbsp; | &nbsp;
        <span class="post-meta-item-icon">
            <i class="ri-book-open-line"></i>
            <span class="post-meta-item-text"> 阅读时长≈</span>
            <span class="post-count">13 分钟</span>
        </span>
    </span>
</div>
 
    </div>
      
    <div class="tocbot"></div>




  
    <div class="article-entry" itemprop="articleBody">
       
  <p>Pandas库入门</p>
<a id="more"></a>

<h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><p>Pandas是python第三方库，以提供高性能易用数据类型和分析工具。Pandas基于NumPy实现，常与NumPy和Matplotlib一同使用</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br></pre></td></tr></table></figure>


<h2 id="Pandas库的理解"><a href="#Pandas库的理解" class="headerlink" title="Pandas库的理解"></a>Pandas库的理解</h2><p>Pandas主要提供两个数据类型：<code>Series</code>和<code>DataFrame</code></p>
<ul>
<li><code>Series</code>相当于一维的数据类型</li>
<li>``DataFrame`相当于二维（N维）的数据类型</li>
</ul>
<p>基于上述数据类型的各类操作有：基本操作、运算操作、特征类操作、关联类操作</p>
<table>
<thead>
<tr>
<th>NumPy</th>
<th>Pandas</th>
</tr>
</thead>
<tbody><tr>
<td>基础数据类型</td>
<td>扩展数据类型</td>
</tr>
<tr>
<td>关注数据的结构表达</td>
<td>关注数据的应用表达</td>
</tr>
<tr>
<td>维度：数据间关系</td>
<td>数据与索引关系</td>
</tr>
</tbody></table>
<h3 id="Series类型"><a href="#Series类型" class="headerlink" title="Series类型"></a>Series类型</h3><p>Series类型由一组数据及与之相关的数据索引组成</p>
<p><img src="/2021/02/12/Pandas%E5%BA%93%E5%85%A5%E9%97%A8/1.png"></p>
<p>例如：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>a = pd.Series([<span class="number">9</span>, <span class="number">9</span>, <span class="number">7</span>, <span class="number">6</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a</span><br><span class="line"><span class="comment"># 第一列为自动索引</span></span><br><span class="line"><span class="comment"># 第二列为传入的列表值</span></span><br><span class="line"><span class="number">0</span>    <span class="number">9</span></span><br><span class="line"><span class="number">1</span>    <span class="number">9</span></span><br><span class="line"><span class="number">2</span>    <span class="number">7</span></span><br><span class="line"><span class="number">3</span>    <span class="number">6</span></span><br><span class="line">dtype: int64</span><br><span class="line">    </span><br><span class="line"><span class="comment"># 自定义索引，其中index参数位于第二个参数时，可以不指定index</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b = pd.Series([<span class="number">9</span>, <span class="number">8</span>, <span class="number">7</span>, <span class="number">6</span>], index=[<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27;d&#x27;</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b</span><br><span class="line">a    <span class="number">9</span></span><br><span class="line">b    <span class="number">8</span></span><br><span class="line">c    <span class="number">7</span></span><br><span class="line">d    <span class="number">6</span></span><br><span class="line">dtype: int64</span><br></pre></td></tr></table></figure>
<p>Series类型可以由如下类型创建：</p>
<ul>
<li>python列表</li>
<li>标量值<ul>
<li><code>s = pd.Series(25, index=[&#39;a&#39;, &#39;b&#39;, &#39;c&#39;])</code>，这里的<code>index</code>不能省略</li>
</ul>
</li>
<li>python字典<ul>
<li><code>d = pd.Series(&#123;&#39;a&#39;:9, &#39;b&#39;:8, &#39;c&#39;:7&#125;)</code></li>
<li><code>e = pd.Series(&#123;&#39;a&#39;:9, &#39;b&#39;:8, &#39;c&#39;:7&#125;, index=[&#39;c&#39;, &#39;a&#39;, &#39;b&#39;, &#39;d&#39;])</code></li>
</ul>
</li>
<li>ndarray<ul>
<li><code>n = pd.Series(numpy.arange(5))</code></li>
<li><code>n = pd.Series(numpy.arange(5), index=numpy.arange(9, 4, -1))</code></li>
</ul>
</li>
<li>其他函数</li>
</ul>
<h4 id="Series类型的基本操作"><a href="#Series类型的基本操作" class="headerlink" title="Series类型的基本操作"></a>Series类型的基本操作</h4><p>Series类型包括<code>index</code>和<code>values</code>两部分</p>
<p>Series类型的操作类似ndarray类型</p>
<ul>
<li><p>索引方法相同，使用<code>[]</code></p>
<ul>
<li><pre><code class="python">&gt;&gt;&gt; b = pd.Series([9, 8, 7, 6], [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;])
&gt;&gt;&gt; b.index
Index([&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;], dtype=&#39;object&#39;)    # Series.index的类型为Index，为pandas内建的类型，不可修改
&gt;&gt;&gt; b.values
array([9, 8, 7, 6], dtype=int64)    # Series.values的类型为array，沿用了ndarray


&gt;&gt;&gt; b[&#39;b&#39;]
8
&gt;&gt;&gt; b[1]    # 自动索引是默认生成的，但自动索引和自定义索引不能混用
8
&gt;&gt;&gt; b[[&#39;c&#39;, &#39;d&#39;, &#39;a&#39;]]
c    7
d    6
a    9
dtype: int64
<figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">* NumPy中运算和操作可用于Series类型</span><br><span class="line"></span><br><span class="line">* 可以通过Series自定义索引的类别进行切片</span><br><span class="line"></span><br><span class="line">* 可以通过自动索引进行切片，如果存在自定义索引，则一同被切片</span><br><span class="line"></span><br><span class="line">  * ```python</span><br><span class="line">    <span class="comment"># 切片</span></span><br><span class="line">    &gt;&gt;&gt; <span class="keyword">b</span></span><br><span class="line"><span class="keyword"> </span>   a    <span class="number">9</span></span><br><span class="line">    <span class="keyword">b </span>   <span class="number">8</span></span><br><span class="line">    c    <span class="number">7</span></span><br><span class="line">    d    <span class="number">6</span></span><br><span class="line"><span class="symbol">    dtype:</span> int64</span><br><span class="line">    &gt;&gt;&gt; <span class="keyword">b[3]</span></span><br><span class="line"><span class="keyword"> </span>   <span class="number">6</span></span><br><span class="line">    &gt;&gt;&gt; <span class="keyword">b[:3]</span></span><br><span class="line"><span class="keyword"> </span>   a    <span class="number">9</span></span><br><span class="line">    <span class="keyword">b </span>   <span class="number">8</span></span><br><span class="line">    c    <span class="number">7</span></span><br><span class="line"><span class="symbol">    dtype:</span> int64</span><br><span class="line">    &gt;&gt;&gt; <span class="keyword">b[b </span>&gt; <span class="keyword">b.median()]	</span><span class="comment"># 大于中位数的</span></span><br><span class="line">    a    <span class="number">9</span></span><br><span class="line">    <span class="keyword">b </span>   <span class="number">8</span></span><br><span class="line"><span class="symbol">    dtype:</span> int64</span><br></pre></td></tr></table></figure>
Series类型的操作类似python字典类型
</code></pre>
</li>
</ul>
</li>
<li><p>通过自定义索引访问</p>
</li>
<li><p>保留字<code>in</code>操作</p>
</li>
<li><p>使用<code>.get()</code>方法</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>b</span><br><span class="line">a    <span class="number">9</span></span><br><span class="line">b    <span class="number">8</span></span><br><span class="line">c    <span class="number">7</span></span><br><span class="line">d    <span class="number">6</span></span><br><span class="line">dtype: int64</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b[<span class="string">&#x27;b&#x27;</span>]</span><br><span class="line"><span class="number">8</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">&#x27;c&#x27;</span> <span class="keyword">in</span> b	<span class="comment"># 可以判断自定义索引</span></span><br><span class="line"><span class="literal">True</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">0</span> <span class="keyword">in</span> b		<span class="comment"># 不能判断自动索引</span></span><br><span class="line"><span class="literal">False</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b.get(<span class="string">&#x27;f&#x27;</span>, <span class="number">100</span>)</span><br><span class="line"><span class="number">100</span></span><br></pre></td></tr></table></figure>


</li>
</ul>
<h4 id="Series类型对齐操作"><a href="#Series类型对齐操作" class="headerlink" title="Series类型对齐操作"></a>Series类型对齐操作</h4><p>Series对齐操作：Series + Series，索引值相同的进行运算，索引不同的不进行运算</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>a = pd.Series([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], [<span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27;d&#x27;</span>, <span class="string">&#x27;e&#x27;</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a</span><br><span class="line">c    <span class="number">1</span></span><br><span class="line">d    <span class="number">2</span></span><br><span class="line">e    <span class="number">3</span></span><br><span class="line">dtype: int64</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b</span><br><span class="line">a    <span class="number">9</span></span><br><span class="line">b    <span class="number">8</span></span><br><span class="line">c    <span class="number">7</span></span><br><span class="line">d    <span class="number">6</span></span><br><span class="line">dtype: int64</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a + b</span><br><span class="line">a    NaN</span><br><span class="line">b    NaN</span><br><span class="line">c    <span class="number">8.0</span></span><br><span class="line">d    <span class="number">8.0</span></span><br><span class="line">e    NaN</span><br><span class="line">dtype: float64</span><br></pre></td></tr></table></figure>


<h4 id="Series类型的name"><a href="#Series类型的name" class="headerlink" title="Series类型的name"></a>Series类型的name</h4><p>Series对象和索引都可以有一个名字，存储在<code>属性.name</code>中</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>b.name = <span class="string">&#x27;Series对象&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b.index.name = <span class="string">&#x27;索引对象&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b</span><br><span class="line">索引对象</span><br><span class="line">a    <span class="number">9</span></span><br><span class="line">b    <span class="number">8</span></span><br><span class="line">c    <span class="number">7</span></span><br><span class="line">d    <span class="number">6</span></span><br><span class="line">Name: Series对象, dtype: int64</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b.index</span><br><span class="line">Index([<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27;d&#x27;</span>], dtype=<span class="string">&#x27;object&#x27;</span>, name=<span class="string">&#x27;索引对象&#x27;</span>)</span><br></pre></td></tr></table></figure>


<h4 id="Series类型的修改"><a href="#Series类型的修改" class="headerlink" title="Series类型的修改"></a>Series类型的修改</h4><p>Series对象可以随时修改并立即生效</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>b</span><br><span class="line">索引对象</span><br><span class="line">a    <span class="number">9</span></span><br><span class="line">b    <span class="number">8</span></span><br><span class="line">c    <span class="number">7</span></span><br><span class="line">d    <span class="number">6</span></span><br><span class="line">Name: Series对象, dtype: int64</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b[<span class="string">&#x27;a&#x27;</span>] = <span class="number">15</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b.name = <span class="string">&#x27;New Series&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b[<span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>] = <span class="number">20</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b</span><br><span class="line">索引对象</span><br><span class="line">a    <span class="number">15</span></span><br><span class="line">b    <span class="number">20</span></span><br><span class="line">c    <span class="number">20</span></span><br><span class="line">d     <span class="number">6</span></span><br><span class="line">Name: New Series, dtype: int64</span><br></pre></td></tr></table></figure>


<h3 id="DataFrame类型"><a href="#DataFrame类型" class="headerlink" title="DataFrame类型"></a>DataFrame类型</h3><p>DataFrame类型由共用相同索引的一组列组成，如下纵向的叫做<code>index</code>，其坐标轴为<code>axis=0</code>，横向的叫做<code>column</code>，其坐标轴为<code>axis=1</code></p>
<ul>
<li>DataFrame是一个表格型的数据类型，每列值类型可以不同</li>
<li>DataFrame既有行索引，也有列索引</li>
<li>DataFrame常用于表达二位数据，但也可以用来表达多维数据</li>
</ul>
<p><img src="/2021/02/12/Pandas%E5%BA%93%E5%85%A5%E9%97%A8/2.png"></p>
<p>DataFrame可以由以下类型来创建：</p>
<ul>
<li><p>二维ndarray对象</p>
<ul>
<li><code>pd.DataFrame(numpy.arange(10).reshape(2, 5))</code></li>
</ul>
</li>
<li><p>一维ndarray、列表、字典、元组或Series构成的字典</p>
<ul>
<li><pre><code class="python"># 由Series构成的字段创建DataFrame
# 字典中的键成了列索引
&gt;&gt;&gt; dt = &#123;&#39;one&#39;:pd.Series([1,2,3], index=[&#39;a&#39;,&#39;b&#39;,&#39;c&#39;]),
... &#39;two&#39;:pd.Series([9, 9, 7, 6], index=[&#39;a&#39;,&#39;b&#39;,&#39;c&#39;,&#39;d&#39;])&#125;
&gt;&gt;&gt; d = pd.DataFrame(dt)
&gt;&gt;&gt; d
   one  two
a  1.0    9
b  2.0    9
c  3.0    7
d  NaN    6

&gt;&gt;&gt; pd.DataFrame(dt, index=[&#39;b&#39;, &#39;c&#39;, &#39;d&#39;], columns=[&#39;two&#39;, &#39;three&#39;])
   two three
b    9   NaN
c    7   NaN
d    6   NaN

# 以列表类似的字典创建
&gt;&gt;&gt; dl = &#123;&#39;one&#39;:[1,2,3,4], &#39;two&#39;:[&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;]&#125;
&gt;&gt;&gt; d = pd.DataFrame(dl, index=[&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;])
&gt;&gt;&gt; d
   one two
a    1   a
b    2   b
c    3   c
d    4   d
<figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">* Series类型</span><br><span class="line"></span><br><span class="line">* 其他DataFrame类型</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#### DataFrame类型的基本操作</span></span><br><span class="line"></span><br><span class="line">通过`[columns]`直接获取columns数据，此数据为Series类型，通过`[columns][index]`获取`<span class="built_in">value</span>`</span><br><span class="line"></span><br><span class="line">```python</span><br><span class="line">&gt;&gt;&gt; d</span><br><span class="line">   <span class="literal">one</span> <span class="literal">two</span></span><br><span class="line"><span class="keyword">a</span>    <span class="number">1</span>   <span class="keyword">a</span></span><br><span class="line">b    <span class="number">2</span>   b</span><br><span class="line">c    <span class="number">3</span>   c</span><br><span class="line">d    <span class="number">4</span>   d</span><br><span class="line"><span class="comment"># 获取one column数据</span></span><br><span class="line">&gt;&gt;&gt; d[<span class="string">&#x27;one&#x27;</span>]</span><br><span class="line"><span class="keyword">a</span>    <span class="number">1</span></span><br><span class="line">b    <span class="number">2</span></span><br><span class="line">c    <span class="number">3</span></span><br><span class="line">d    <span class="number">4</span></span><br><span class="line"><span class="comment"># 获取two column数据</span></span><br><span class="line">&gt;&gt;&gt; d[<span class="string">&#x27;two&#x27;</span>]</span><br><span class="line"><span class="keyword">a</span>    <span class="keyword">a</span></span><br><span class="line">b    b</span><br><span class="line">c    c</span><br><span class="line">d    d</span><br><span class="line"><span class="comment"># 获取value</span></span><br><span class="line">&gt;&gt;&gt; d[<span class="string">&#x27;one&#x27;</span>][<span class="string">&#x27;b&#x27;</span>]</span><br><span class="line"><span class="number">2</span></span><br></pre></td></tr></table></figure>

</code></pre>
</li>
</ul>
</li>
</ul>
<h2 id="Pandas库的数据类型操作"><a href="#Pandas库的数据类型操作" class="headerlink" title="Pandas库的数据类型操作"></a>Pandas库的数据类型操作</h2><h3 id="改变Series和DataFrame对象"><a href="#改变Series和DataFrame对象" class="headerlink" title="改变Series和DataFrame对象"></a>改变Series和DataFrame对象</h3><ul>
<li><p>增加或重排：重新索引</p>
</li>
<li><p>删除：drop</p>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>dl = &#123;<span class="string">&#x27;城市&#x27;</span>:[<span class="string">&#x27;北京&#x27;</span>,<span class="string">&#x27;上海&#x27;</span>,<span class="string">&#x27;广州&#x27;</span>,<span class="string">&#x27;深圳&#x27;</span>,<span class="string">&#x27;沈阳&#x27;</span>],</span><br><span class="line"><span class="meta">... </span><span class="string">&#x27;环比&#x27;</span>:[<span class="number">101.5</span>,<span class="number">101.2</span>,<span class="number">101.3</span>,<span class="number">102.0</span>,<span class="number">100.1</span>],</span><br><span class="line"><span class="meta">... </span><span class="string">&#x27;同比&#x27;</span>:[<span class="number">120.7</span>,<span class="number">127.3</span>,<span class="number">119.4</span>,<span class="number">140.9</span>,<span class="number">101.4</span>],</span><br><span class="line"><span class="meta">... </span><span class="string">&#x27;定基&#x27;</span>:[<span class="number">121.4</span>,<span class="number">127.8</span>,<span class="number">120.0</span>,<span class="number">145.5</span>,<span class="number">101.6</span>]&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>d = pd.DataFrame(dl, index=[<span class="string">&#x27;c1&#x27;</span>,<span class="string">&#x27;c2&#x27;</span>,<span class="string">&#x27;c3&#x27;</span>,<span class="string">&#x27;c4&#x27;</span>,<span class="string">&#x27;c5&#x27;</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>d</span><br><span class="line">    城市     环比     同比     定基</span><br><span class="line">c1  北京  <span class="number">101.5</span>  <span class="number">120.7</span>  <span class="number">121.4</span></span><br><span class="line">c2  上海  <span class="number">101.2</span>  <span class="number">127.3</span>  <span class="number">127.8</span></span><br><span class="line">c3  广州  <span class="number">101.3</span>  <span class="number">119.4</span>  <span class="number">120.0</span></span><br><span class="line">c4  深圳  <span class="number">102.0</span>  <span class="number">140.9</span>  <span class="number">145.5</span></span><br><span class="line">c5  沈阳  <span class="number">100.1</span>  <span class="number">101.4</span>  <span class="number">101.6</span></span><br></pre></td></tr></table></figure>


<h4 id="重新索引"><a href="#重新索引" class="headerlink" title="重新索引"></a>重新索引</h4><p><code>.reindex()</code>能够改变或重排Series和DataFrame索引</p>
<ul>
<li><p>以<code>columns</code>重排列</p>
<ul>
<li><pre><code class="python">&gt;&gt;&gt; d = d.reindex(columns=[&#39;城市&#39;, &#39;定基&#39;,&#39;同比&#39;, &#39;环比&#39;])
&gt;&gt;&gt; d
    城市     定基     同比     环比
c1  北京  121.4  120.7  101.5
c2  上海  127.8  127.3  101.2
c3  广州  120.0  119.4  101.3
c4  深圳  145.5  140.9  102.0
c5  沈阳  101.6  101.4  100.1
<figure class="highlight n1ql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">* 以`<span class="keyword">index</span><span class="symbol">`重排列</span></span><br><span class="line"><span class="symbol"></span></span><br><span class="line"><span class="symbol">  * `</span><span class="symbol">``</span>python</span><br><span class="line">    &gt;&gt;&gt; d = d.reindex(<span class="keyword">index</span>=[<span class="string">&#x27;c5&#x27;</span>,<span class="string">&#x27;c4&#x27;</span>,<span class="string">&#x27;c3&#x27;</span>,<span class="string">&#x27;c2&#x27;</span>,<span class="string">&#x27;c1&#x27;</span>])</span><br><span class="line">    &gt;&gt;&gt; d</span><br><span class="line">        城市     定基     同比     环比</span><br><span class="line">    c5  沈阳  <span class="number">101.6</span>  <span class="number">101.4</span>  <span class="number">100.1</span></span><br><span class="line">    c4  深圳  <span class="number">145.5</span>  <span class="number">140.9</span>  <span class="number">102.0</span></span><br><span class="line">    c3  广州  <span class="number">120.0</span>  <span class="number">119.4</span>  <span class="number">101.3</span></span><br><span class="line">    c2  上海  <span class="number">127.8</span>  <span class="number">127.3</span>  <span class="number">101.2</span></span><br><span class="line">    c1  北京  <span class="number">121.4</span>  <span class="number">120.7</span>  <span class="number">101.5</span></span><br></pre></td></tr></table></figure>

</code></pre>
</li>
</ul>
</li>
</ul>
<h4 id="索引类型的常用方法"><a href="#索引类型的常用方法" class="headerlink" title="索引类型的常用方法"></a>索引类型的常用方法</h4><p>在Series和DataFrame的索引是<code>Index</code>类型，<code>Index</code>对象本身属于不可修改的，其常用方法如下：</p>
<table>
<thead>
<tr>
<th>方法</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td><code>.append(idx)</code></td>
<td>连接另一个<code>Index</code>对象，产生新的<code>Index</code>对象</td>
</tr>
<tr>
<td><code>.diff(idx)</code></td>
<td>计算差集，产生新的<code>Index</code>对象</td>
</tr>
<tr>
<td><code>.intersection(idx)</code></td>
<td>计算交集</td>
</tr>
<tr>
<td><code>.union(idx)</code></td>
<td>计算并集</td>
</tr>
<tr>
<td><code>.delete(loc)</code></td>
<td>删除loc位置处的元素</td>
</tr>
<tr>
<td><code>.insert(loc, e)</code></td>
<td>在loc位置处增加一个元素e</td>
</tr>
</tbody></table>
<ul>
<li><p>插入一个新的<code>columns</code></p>
<ul>
<li><pre><code class="python">&gt;&gt;&gt; newc = d.columns.insert(4, &#39;新增&#39;)    # 获取原来的columns，inser插入了一个新列
&gt;&gt;&gt; newc
Index([&#39;城市&#39;, &#39;定基&#39;, &#39;同比&#39;, &#39;环比&#39;, &#39;新增&#39;], dtype=&#39;object&#39;)
&gt;&gt;&gt; newd = d.reindex(columns=newc, fill_value=200)    # 以新的columns列表重新排列，并设置填充值fill_value为200
&gt;&gt;&gt; newd
    城市     定基     同比     环比   新增
c5  沈阳  101.6  101.4  100.1  200
c4  深圳  145.5  140.9  102.0  200
c3  广州  120.0  119.4  101.3  200
c2  上海  127.8  127.3  101.2  200
c1  北京  121.4  120.7  101.5  200
<figure class="highlight oxygene"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">* 删除第二个`columns`，插入一个`<span class="keyword">index</span>`</span><br><span class="line"></span><br><span class="line">  * ```python</span><br><span class="line">    &gt;&gt;&gt; d</span><br><span class="line">        城市     定基     同比     环比</span><br><span class="line">    c5  沈阳  <span class="number">101.6</span>  <span class="number">101.4</span>  <span class="number">100.1</span></span><br><span class="line">    c4  深圳  <span class="number">145.5</span>  <span class="number">140.9</span>  <span class="number">102.0</span></span><br><span class="line">    c3  广州  <span class="number">120.0</span>  <span class="number">119.4</span>  <span class="number">101.3</span></span><br><span class="line">    c2  上海  <span class="number">127.8</span>  <span class="number">127.3</span>  <span class="number">101.2</span></span><br><span class="line">    c1  北京  <span class="number">121.4</span>  <span class="number">120.7</span>  <span class="number">101.5</span></span><br><span class="line">    # 删除columns</span><br><span class="line">    &gt;&gt;&gt; nc = d.columns.delete(<span class="number">2</span>)</span><br><span class="line">    &gt;&gt;&gt; nc</span><br><span class="line">    <span class="keyword">Index</span>([<span class="string">&#x27;城市&#x27;</span>, <span class="string">&#x27;定基&#x27;</span>, <span class="string">&#x27;环比&#x27;</span>], dtype=<span class="string">&#x27;object&#x27;</span>)</span><br><span class="line">    # 增加<span class="keyword">index</span></span><br><span class="line">    &gt;&gt;&gt; ni = d.index.insert(<span class="number">5</span>, <span class="string">&#x27;c0&#x27;</span>)</span><br><span class="line">    &gt;&gt;&gt; ni</span><br><span class="line">    <span class="keyword">Index</span>([<span class="string">&#x27;c5&#x27;</span>, <span class="string">&#x27;c4&#x27;</span>, <span class="string">&#x27;c3&#x27;</span>, <span class="string">&#x27;c2&#x27;</span>, <span class="string">&#x27;c1&#x27;</span>, <span class="string">&#x27;c0&#x27;</span>], dtype=<span class="string">&#x27;object&#x27;</span>)</span><br><span class="line">    # 重排，c0由c1填充</span><br><span class="line">    # 这里如果是nd = d.reindex(<span class="keyword">index</span>=ni, columns=nc, <span class="function"><span class="keyword">method</span>=&#x27;<span class="title">ffill</span>&#x27;)则会报错，可能是<span class="title">pandas</span>版本不同</span></span><br><span class="line"><span class="function">    &gt;&gt;&gt; <span class="title">nd</span> = <span class="title">d</span>.<span class="title">reindex</span><span class="params">(<span class="keyword">index</span>=ni, columns=nc)</span>.<span class="title">ffill</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    &gt;&gt;&gt; <span class="title">nd</span></span></span><br><span class="line"><span class="function">        城市     定基     环比</span></span><br><span class="line"><span class="function">    <span class="title">c5</span>  沈阳  101.6  100.1</span></span><br><span class="line"><span class="function">    <span class="title">c4</span>  深圳  145.5  102.0</span></span><br><span class="line"><span class="function">    <span class="title">c3</span>  广州  120.0  101.3</span></span><br><span class="line"><span class="function">    <span class="title">c2</span>  上海  127.8  101.2</span></span><br><span class="line"><span class="function">    <span class="title">c1</span>  北京  121.4  101.5</span></span><br><span class="line"><span class="function">    <span class="title">c0</span>  北京  121.4  101.5</span></span><br></pre></td></tr></table></figure>

</code></pre>
</li>
</ul>
</li>
</ul>
<h4 id="drop删除索引元素"><a href="#drop删除索引元素" class="headerlink" title="drop删除索引元素"></a>drop删除索引元素</h4><p><code>.drop</code>可以删除Series和DataFrame指定的行或列索引</p>
<ul>
<li><p>Series删除索引元素</p>
<ul>
<li><pre><code class="python">&gt;&gt;&gt; a = pd.Series([9,8,7,6], index=[&#39;a&#39;,&#39;b&#39;,&#39;c&#39;,&#39;d&#39;])
&gt;&gt;&gt; a
a    9
b    8
c    7
d    6
dtype: int64
&gt;&gt;&gt; a.drop([&#39;b&#39;,&#39;c&#39;])
a    9
d    6
dtype: int64
<figure class="highlight llvm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">* DataFrame删除指定行、列索引元素</span><br><span class="line"></span><br><span class="line">  * ```python</span><br><span class="line">    &gt;&gt;&gt; d</span><br><span class="line">        城市     定基     同比     环比</span><br><span class="line">    <span class="keyword">c</span><span class="number">5</span>  沈阳  <span class="number">101.6</span>  <span class="number">101.4</span>  <span class="number">100.1</span></span><br><span class="line">    <span class="keyword">c</span><span class="number">4</span>  深圳  <span class="number">145.5</span>  <span class="number">140.9</span>  <span class="number">102.0</span></span><br><span class="line">    <span class="keyword">c</span><span class="number">3</span>  广州  <span class="number">120.0</span>  <span class="number">119.4</span>  <span class="number">101.3</span></span><br><span class="line">    <span class="keyword">c</span><span class="number">2</span>  上海  <span class="number">127.8</span>  <span class="number">127.3</span>  <span class="number">101.2</span></span><br><span class="line">    <span class="keyword">c</span><span class="number">1</span>  北京  <span class="number">121.4</span>  <span class="number">120.7</span>  <span class="number">101.5</span></span><br><span class="line">    # 删除index <span class="keyword">c</span><span class="number">5</span>，默认axis<span class="operator">=</span><span class="number">0</span></span><br><span class="line">    &gt;&gt;&gt; d.drop(&#x27;<span class="keyword">c</span><span class="number">5</span>&#x27;)</span><br><span class="line">        城市     定基     同比     环比</span><br><span class="line">    <span class="keyword">c</span><span class="number">4</span>  深圳  <span class="number">145.5</span>  <span class="number">140.9</span>  <span class="number">102.0</span></span><br><span class="line">    <span class="keyword">c</span><span class="number">3</span>  广州  <span class="number">120.0</span>  <span class="number">119.4</span>  <span class="number">101.3</span></span><br><span class="line">    <span class="keyword">c</span><span class="number">2</span>  上海  <span class="number">127.8</span>  <span class="number">127.3</span>  <span class="number">101.2</span></span><br><span class="line">    <span class="keyword">c</span><span class="number">1</span>  北京  <span class="number">121.4</span>  <span class="number">120.7</span>  <span class="number">101.5</span></span><br><span class="line">    # 删除columns 城市，需要指定axis<span class="operator">=</span><span class="number">1</span></span><br><span class="line">    &gt;&gt;&gt; d.drop(&#x27;城市&#x27;<span class="punctuation">,</span> axis<span class="operator">=</span><span class="number">1</span>)</span><br><span class="line">           定基     同比     环比</span><br><span class="line">    <span class="keyword">c</span><span class="number">5</span>  <span class="number">101.6</span>  <span class="number">101.4</span>  <span class="number">100.1</span></span><br><span class="line">    <span class="keyword">c</span><span class="number">4</span>  <span class="number">145.5</span>  <span class="number">140.9</span>  <span class="number">102.0</span></span><br><span class="line">    <span class="keyword">c</span><span class="number">3</span>  <span class="number">120.0</span>  <span class="number">119.4</span>  <span class="number">101.3</span></span><br><span class="line">    <span class="keyword">c</span><span class="number">2</span>  <span class="number">127.8</span>  <span class="number">127.3</span>  <span class="number">101.2</span></span><br><span class="line">    <span class="keyword">c</span><span class="number">1</span>  <span class="number">121.4</span>  <span class="number">120.7</span>  <span class="number">101.5</span></span><br></pre></td></tr></table></figure>

</code></pre>
</li>
</ul>
</li>
</ul>
<h2 id="Pandas库数据类型运算"><a href="#Pandas库数据类型运算" class="headerlink" title="Pandas库数据类型运算"></a>Pandas库数据类型运算</h2><h3 id="算术运算法则"><a href="#算术运算法则" class="headerlink" title="算术运算法则"></a>算术运算法则</h3><ul>
<li>根据行列索引，补齐后运算，运算默认产生浮点数</li>
<li>补齐残缺项默认填充<code>NaN</code></li>
<li>维度不同运算采取广播运算<ul>
<li>广播运算，即低维度的将作用到高维度的每个数据上</li>
<li>一维Series默认在<code>axis=1</code>轴上参与运算</li>
</ul>
</li>
<li>采用<code>+-*/</code>符号进行的二元运算会产生新的对象</li>
<li>运算也有一些方法，如<code>.add/.sub</code>等，采用方法可以多设定一些额外参数</li>
</ul>
<h3 id="比较运算法则"><a href="#比较运算法则" class="headerlink" title="比较运算法则"></a>比较运算法则</h3><ul>
<li>比较运算只能比较相同索引的元素，不进行补齐</li>
<li>不同维度采取 广播运算</li>
<li>采用<code>&gt; &lt; &gt;= &lt;= == !=</code>等符号进行的二元运算会产生布尔对象</li>
</ul>
<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p><a target="_blank" rel="noopener" href="https://pandas.pydata.org/docs/">pandas documentation</a></p>
<p><a target="_blank" rel="noopener" href="https://pandas.pydata.org/docs/reference/index.html">pandas - API reference</a></p>
 
      <!-- reward -->
      
      <div id="reword-out">
        <div id="reward-btn">
          打赏
        </div>
      </div>
      
    </div>
    

    <!-- copyright -->
    
    <div class="declare">
      <ul class="post-copyright">
        <li>
          <i class="ri-copyright-line"></i>
          <strong>版权声明： </strong>
          
          本博客所有文章除特别声明外，著作权归作者所有。转载请注明出处！
          
        </li>
      </ul>
    </div>
    
    <footer class="article-footer">
       
<div class="share-btn">
      <span class="share-sns share-outer">
        <i class="ri-share-forward-line"></i>
        分享
      </span>
      <div class="share-wrap">
        <i class="arrow"></i>
        <div class="share-icons">
          
          <a class="weibo share-sns" href="javascript:;" data-type="weibo">
            <i class="ri-weibo-fill"></i>
          </a>
          <a class="weixin share-sns wxFab" href="javascript:;" data-type="weixin">
            <i class="ri-wechat-fill"></i>
          </a>
          <a class="qq share-sns" href="javascript:;" data-type="qq">
            <i class="ri-qq-fill"></i>
          </a>
          <a class="douban share-sns" href="javascript:;" data-type="douban">
            <i class="ri-douban-line"></i>
          </a>
          <!-- <a class="qzone share-sns" href="javascript:;" data-type="qzone">
            <i class="icon icon-qzone"></i>
          </a> -->
          
          <a class="facebook share-sns" href="javascript:;" data-type="facebook">
            <i class="ri-facebook-circle-fill"></i>
          </a>
          <a class="twitter share-sns" href="javascript:;" data-type="twitter">
            <i class="ri-twitter-fill"></i>
          </a>
          <a class="google share-sns" href="javascript:;" data-type="google">
            <i class="ri-google-fill"></i>
          </a>
        </div>
      </div>
</div>

<div class="wx-share-modal">
    <a class="modal-close" href="javascript:;"><i class="ri-close-circle-line"></i></a>
    <p>扫一扫，分享到微信</p>
    <div class="wx-qrcode">
      <img src="//api.qrserver.com/v1/create-qr-code/?size=150x150&data=http://lzeroyuee.cn/2021/02/12/Pandas%E5%BA%93%E5%85%A5%E9%97%A8/" alt="微信分享二维码">
    </div>
</div>

<div id="share-mask"></div>  
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/" rel="tag">数据分析</a></li></ul>

    </footer>
  </div>

   
  <nav class="article-nav">
    
    
      <a href="/2021/02/12/angr%E5%85%A5%E9%97%A8%E5%B0%8F%E8%AF%95/" class="article-nav-link">
        <strong class="article-nav-caption">下一篇</strong>
        <div class="article-nav-title">angr入门小试</div>
      </a>
    
  </nav>

   
<!-- valine评论 -->
<div id="vcomments-box">
  <div id="vcomments"></div>
</div>
<script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/valine@1.4.14/dist/Valine.min.js"></script>
<script>
  new Valine({
    el: "#vcomments",
    app_id: "sJHHqdejjKH1GtEKzxEL80y2-gzGzoHsz",
    app_key: "oPkDhBajzB1AvNe4r6CxTfU0",
    path: window.location.pathname,
    avatar: "monsterid",
    placeholder: "给我的文章加点评论吧~",
    recordIP: true,
  });
  const infoEle = document.querySelector("#vcomments .info");
  if (infoEle && infoEle.childNodes && infoEle.childNodes.length > 0) {
    infoEle.childNodes.forEach(function (item) {
      item.parentNode.removeChild(item);
    });
  }
</script>
<style>
  #vcomments-box {
    padding: 5px 30px;
  }

  @media screen and (max-width: 800px) {
    #vcomments-box {
      padding: 5px 0px;
    }
  }

  #vcomments-box #vcomments {
    background-color: #fff;
  }

  .v .vlist .vcard .vh {
    padding-right: 20px;
  }

  .v .vlist .vcard {
    padding-left: 10px;
  }
</style>

 
   
     
</article>

</section>
      <footer class="footer">
  <div class="outer">
    <ul>
      <li>
        Copyrights &copy;
        2021
        <i class="ri-heart-fill heart_icon"></i> lzeroyuee
      </li>
    </ul>
    <ul>
      <li>
        
        
        
        由 <a href="https://hexo.io" target="_blank">Hexo</a> 强力驱动
        <span class="division">|</span>
        主题 - <a href="https://github.com/Shen-Yu/hexo-theme-ayer" target="_blank">Ayer</a>
        
      </li>
    </ul>
    <ul>
      <li>
        
        
        <span>
  <span><i class="ri-user-3-fill"></i>访问人数:<span id="busuanzi_value_site_uv"></span></s>
  <span class="division">|</span>
  <span><i class="ri-eye-fill"></i>浏览次数:<span id="busuanzi_value_page_pv"></span></span>
</span>
        
      </li>
    </ul>
    <ul>
      
    </ul>
    <ul>
      
    </ul>
    <ul>
      <li>
        <!-- cnzz统计 -->
        
      </li>
    </ul>
  </div>
</footer>
      <div class="float_btns">
        <div class="totop" id="totop">
  <i class="ri-arrow-up-line"></i>
</div>

<div class="todark" id="todark">
  <i class="ri-moon-line"></i>
</div>

      </div>
    </main>
    <aside class="sidebar on">
      <button class="navbar-toggle"></button>
<nav class="navbar">
  
  <div class="logo">
    <a href="/"><img src="/images/my.png" alt="lzeroyuee&#39;s blog"></a>
  </div>
  
  <ul class="nav nav-main">
    
    <li class="nav-item">
      <a class="nav-item-link" href="/">主页</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/archives">归档</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/categories">分类</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/tags">标签</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/about">关于我</a>
    </li>
    
  </ul>
</nav>
<nav class="navbar navbar-bottom">
  <ul class="nav">
    <li class="nav-item">
      
      <a class="nav-item-link nav-item-search"  title="搜索">
        <i class="ri-search-line"></i>
      </a>
      
      
      <a class="nav-item-link" target="_blank" href="/atom.xml" title="RSS Feed">
        <i class="ri-rss-line"></i>
      </a>
      
    </li>
  </ul>
</nav>
<div class="search-form-wrap">
  <div class="local-search local-search-plugin">
  <input type="search" id="local-search-input" class="local-search-input" placeholder="Search...">
  <div id="local-search-result" class="local-search-result"></div>
</div>
</div>
    </aside>
    <script>
      if (window.matchMedia("(max-width: 768px)").matches) {
        document.querySelector('.content').classList.remove('on');
        document.querySelector('.sidebar').classList.remove('on');
      }
    </script>
    <div id="mask"></div>

<!-- #reward -->
<div id="reward">
  <span class="close"><i class="ri-close-line"></i></span>
  <p class="reward-p"><i class="ri-cup-line"></i>请我喝杯咖啡吧~</p>
  <div class="reward-box">
    
    <div class="reward-item">
      <img class="reward-img" src="/images/my.png">
      <span class="reward-type">支付宝</span>
    </div>
    
    
    <div class="reward-item">
      <img class="reward-img" src="/images/my.png">
      <span class="reward-type">微信</span>
    </div>
    
  </div>
</div>
    
<script src="/js/jquery-2.0.3.min.js"></script>


<script src="/js/lazyload.min.js"></script>

<!-- Tocbot -->


<script src="/js/tocbot.min.js"></script>

<script>
  tocbot.init({
    tocSelector: '.tocbot',
    contentSelector: '.article-entry',
    headingSelector: 'h1, h2, h3, h4, h5, h6',
    hasInnerContainers: true,
    scrollSmooth: true,
    scrollContainer: 'main',
    positionFixedSelector: '.tocbot',
    positionFixedClass: 'is-position-fixed',
    fixedSidebarOffset: 'auto'
  });
</script>

<script src="https://cdn.jsdelivr.net/npm/jquery-modal@0.9.2/jquery.modal.min.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/jquery-modal@0.9.2/jquery.modal.min.css">
<script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js"></script>

<script src="/dist/main.js"></script>

<!-- ImageViewer -->

<!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" style="display:none" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css">
<script src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"></script>

<script>
    function viewer_init() {
        let pswpElement = document.querySelectorAll('.pswp')[0];
        let $imgArr = document.querySelectorAll(('.article-entry img:not(.reward-img)'))

        $imgArr.forEach(($em, i) => {
            $em.onclick = () => {
                // slider展开状态
                // todo: 这样不好，后面改成状态
                if (document.querySelector('.left-col.show')) return
                let items = []
                $imgArr.forEach(($em2, i2) => {
                    let img = $em2.getAttribute('data-idx', i2)
                    let src = $em2.getAttribute('data-target') || $em2.getAttribute('src')
                    let title = $em2.getAttribute('alt')
                    // 获得原图尺寸
                    const image = new Image()
                    image.src = src
                    items.push({
                        src: src,
                        w: image.width || $em2.width,
                        h: image.height || $em2.height,
                        title: title
                    })
                })
                var gallery = new PhotoSwipe(pswpElement, PhotoSwipeUI_Default, items, {
                    index: parseInt(i)
                });
                gallery.init()
            }
        })
    }
    viewer_init()
</script>

<!-- MathJax -->

<!-- Katex -->

<!-- busuanzi  -->


<script src="/js/busuanzi-2.3.pure.min.js"></script>


<!-- ClickLove -->

<!-- ClickBoom1 -->

<!-- ClickBoom2 -->


<script src="/js/clickBoom2.js"></script>


<!-- CodeCopy -->


<link rel="stylesheet" href="/css/clipboard.css">

<script src="https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js"></script>
<script>
  function wait(callback, seconds) {
    var timelag = null;
    timelag = window.setTimeout(callback, seconds);
  }
  !function (e, t, a) {
    var initCopyCode = function(){
      var copyHtml = '';
      copyHtml += '<button class="btn-copy" data-clipboard-snippet="">';
      copyHtml += '<i class="ri-file-copy-2-line"></i><span>COPY</span>';
      copyHtml += '</button>';
      $(".highlight .code pre").before(copyHtml);
      $(".article pre code").before(copyHtml);
      var clipboard = new ClipboardJS('.btn-copy', {
        target: function(trigger) {
          return trigger.nextElementSibling;
        }
      });
      clipboard.on('success', function(e) {
        let $btn = $(e.trigger);
        $btn.addClass('copied');
        let $icon = $($btn.find('i'));
        $icon.removeClass('ri-file-copy-2-line');
        $icon.addClass('ri-checkbox-circle-line');
        let $span = $($btn.find('span'));
        $span[0].innerText = 'COPIED';
        
        wait(function () { // 等待两秒钟后恢复
          $icon.removeClass('ri-checkbox-circle-line');
          $icon.addClass('ri-file-copy-2-line');
          $span[0].innerText = 'COPY';
        }, 2000);
      });
      clipboard.on('error', function(e) {
        e.clearSelection();
        let $btn = $(e.trigger);
        $btn.addClass('copy-failed');
        let $icon = $($btn.find('i'));
        $icon.removeClass('ri-file-copy-2-line');
        $icon.addClass('ri-time-line');
        let $span = $($btn.find('span'));
        $span[0].innerText = 'COPY FAILED';
        
        wait(function () { // 等待两秒钟后恢复
          $icon.removeClass('ri-time-line');
          $icon.addClass('ri-file-copy-2-line');
          $span[0].innerText = 'COPY';
        }, 2000);
      });
    }
    initCopyCode();
  }(window, document);
</script>


<!-- CanvasBackground -->


<script src="/js/dz.js"></script>



    
  </div>
</body>

</html>